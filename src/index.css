@tailwind base;
@tailwind components;
@tailwind utilities;

/* Global styles for interactive elements */
button, a, [role="button"], .MuiButtonBase-root, .MuiIconButton-root, 
.MuiMenuItem-root, .MuiTab-root, .MuiAccordionSummary-root, 
.MuiCheckbox-root, .MuiRadio-root, .MuiSwitch-root, 
.MuiSelect-select, .MuiSlider-root, .MuiPaginationItem-root,
[tabindex="0"], input[type="submit"], input[type="button"], input[type="checkbox"], input[type="radio"],
.clickable, .selectable, .interactive {
  cursor: pointer;
}

/* CSS Custom Properties for theme colors */
:root {
  --primary-color: #00796B;
  --primary-light: #48A799;
  --primary-dark: #004D40;
  --secondary-color: #FF6B35;
  --secondary-light: #FF8A5B;
  --secondary-dark: #E55A2B;
}

/* Custom button styles using theme colors */
.btn-web3 {
  @apply relative overflow-hidden px-6 py-3 text-base font-medium text-white rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-300 ease-out;
  background: linear-gradient(90deg, var(--primary-color), var(--secondary-color), var(--primary-color));
  background-size: 200% 100%;
  box-shadow: 0 4px 10px rgba(0, 121, 107, 0.3), 0 0 0 rgba(0, 121, 107, 0) inset;
  focus-ring-color: var(--primary-color);
}

.btn-web3:hover {
  transform: translateY(-2px) scale(1.02);
  background-position: 100% 0;
  box-shadow: 0 6px 15px rgba(0, 121, 107, 0.4), 0 0 20px rgba(0, 121, 107, 0.2) inset;
}

.btn-web3:active {
  transform: translateY(1px) scale(0.98);
}

.btn-web3::before {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  z-index: -1;
  background: linear-gradient(45deg, var(--primary-color), transparent, var(--primary-color));
  background-size: 400% 400%;
  animation: gradient 3s ease infinite;
  border-radius: inherit;
  opacity: 0;
  transition: opacity 0.3s ease-out;
}

.btn-web3:hover::before {
  opacity: 1;
}

@keyframes gradient {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

:root {
  font-family: system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;
  
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Remove hardcoded colors from default link styles */
a {
  font-weight: 500;
  text-decoration: inherit;
}

/* Prevent body/html from interfering with fixed positioning on mobile */
html {
  overflow-x: hidden;
  /* Prevent any transform/perspective properties that break fixed positioning */
  transform: none !important;
  perspective: none !important;
}

body {
  margin: 0;
  min-width: 320px;
  min-height: 100vh;
  overflow-x: hidden;
  /* Prevent any transform/perspective properties that break fixed positioning */
  transform: none !important;
  perspective: none !important;
  /* iOS-specific: Prevent elastic scrolling from affecting fixed elements */
  -webkit-overflow-scrolling: auto;
}

h1 {
  font-size: 3.2em;
  line-height: 1.1;
}

/* Remove default button styles to let Material-UI handle them */
button {
  border-radius: 8px;
  border: 1px solid transparent;
  padding: 0.6em 1.2em;
  font-size: 1em;
  font-weight: 500;
  font-family: inherit;
  cursor: pointer;
  transition: border-color 0.25s;
}

button:focus,
button:focus-visible {
  outline: 4px auto -webkit-focus-ring-color;
}

/* Remove media query specific styles to let Material-UI theme handle them */

/* Mobile Bottom Navigation - iOS Safari Fixed Positioning Fix */
/* The key for iOS Safari is to use a combination of strategies */

/* Strategy 1: Fixed positioning on layout viewport (not visual viewport) */
@supports (-webkit-touch-callout: none) {
  /* iOS Safari specific */
  html, body {
    position: relative;
    overflow-x: hidden;
    height: 100%;
  }
}

.mobile-bottom-nav-wrapper {
  position: fixed !important;
  /* Anchor to visual viewport bottom, not layout viewport */
  bottom: env(safe-area-inset-bottom, 0px) !important;
  left: 0 !important;
  right: 0 !important;
  width: 100vw !important;
  max-width: 100vw !important;
  z-index: 999 !important;
  /* GPU acceleration for better performance */
  transform: translate3d(0, 0, 0) !important;
  -webkit-transform: translate3d(0, 0, 0) !important;
  /* Ensure hardware acceleration */
  backface-visibility: hidden !important;
  -webkit-backface-visibility: hidden !important;
  /* Create a new stacking context */
  isolation: isolate !important;
  /* Prevent parent transforms from affecting this */
  will-change: transform !important;
  pointer-events: auto !important;
  /* Ensure proper background */
  background-color: white !important;
  /* iOS Safari specific: prevent touch-scroll affecting position */
  -webkit-overflow-scrolling: touch !important;
  /* Prevent any margin/padding from parent */
  margin: 0 !important;
  padding: 0 !important;
  /* Prevent touch scrolling on the nav itself */
  touch-action: none !important;
  -webkit-touch-action: none !important;
  /* Prevent overscroll */
  overscroll-behavior: contain !important;
  -webkit-overscroll-behavior: contain !important;
}

/* iOS Safari specific: Ensure body doesn't interfere */
@supports (-webkit-touch-callout: none) {
  body {
    /* Prevent elastic bounce scroll */
    overscroll-behavior-y: none !important;
  }
}

/* All Clerk styling overrides removed - using Clerk defaults (Jordan Walke principle) */

/* Ensure Clerk components are ALWAYS above all other UI */
/* Targeting all possible Clerk modal/checkout selectors */
.cl-modal,
.cl-modalContent,
.cl-modalBackdrop,
[data-clerk-modal],
[data-clerk-modal-backdrop],
.cl-internal-b3fm6y,
.cl-rootBox,
.cl-card,
.__cl-modal,
.__cl-internal-b3fm6y,
div[class*="cl-modal"],
div[class*="cl-rootBox"],
div[data-localization-key*="checkout"] {
  z-index: 999999 !important;
}

/* Clerk backdrop should be just below with blur effect */
.cl-modalBackdrop,
[data-clerk-modal-backdrop] {
  z-index: 999998 !important;
  backdrop-filter: blur(10px) !important;
  -webkit-backdrop-filter: blur(10px) !important;
}

/* Ensure Clerk portal is on top */
.clerk-portal,
#clerk-components {
  z-index: 999999 !important;
  position: relative;
}

/* Ensure all page content (including MUI inputs, etc.) is below Clerk */
#root,
body > div:not([class*="clerk"]):not([id*="clerk"]) {
  isolation: auto !important;
}

/* Force MUI form components below Clerk checkout (but allow labels to float naturally) */
/* IMPORTANT: Don't override position on labels - MUI needs absolute positioning for floating labels */
.MuiTextField-root,
.MuiOutlinedInput-root,
.MuiInputBase-root,
.MuiFormControl-root {
  z-index: auto !important;
}

/* Labels need proper z-index to appear ABOVE input backgrounds but BELOW Clerk modals */
.MuiInputLabel-root,
.MuiFormLabel-root {
  /* z-index: 1 !important; */  /* Removed - was causing issues with status labels on promotions/events pages */
}

/* Helper text below everything */
.MuiFormHelperText-root {
  z-index: auto !important;
}

/* Ensure form field children don't override Clerk modals but maintain internal stacking */
.MuiOutlinedInput-notchedOutline {
  z-index: 0 !important;  /* Input border behind label */
}

.MuiOutlinedInput-input {
  z-index: 0 !important;  /* Input text behind label */
}